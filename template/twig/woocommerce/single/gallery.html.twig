{% if main_images and thumbnails %}

    {% embed get_cover_template('common/carousel/swiper/carousel') with {
        carousel_config: {
            loop: true,
            thumbs: '.product-gallery-thumb-carousel',
            navigation: true,
            pagination: false,
            slidesPerView: 1
        },
        arrow_icon: 'arrow',
        arrow_class: 'position-absolute',
        arrows_class: 'position-absolute top-50 w-100 show-element',
        carousels: main_images,
        container_class: 'main-carousel product-gallery-main-carousel rounded-xxl overflow-hidden mb-3',
    } %}

        {% block carousel %}
            {{ carousel|raw }}
        {% endblock %}
    {% endembed %}


    {% set slidesToShow = 5 %}
    {% set arrows = thumbnails|length > slidesToShow %}
    {% embed get_cover_template('common/carousel/swiper/carousel') with {
        carousel_config: {
            main: false,
            navigation: false,
            pagination: false,
            slidesPerView: slidesToShow,
            watchSlidesVisibility: true,
            watchSlidesProgress: true
        },
        carousels: thumbnails,
        next_class: 'right-0',
        prev_class: 'left-0',
        container_class: 'overflow-hidden thumb-carousel product-gallery-thumb-carousel'
    } %}

        {% block carousel %}
            {{ carousel|raw }}
        {% endblock %}
    {% endembed %}

{% endif %}
